import{a as q,b as pe}from"./chunk-5VT4CV55.js";import{a as me}from"./chunk-4Q3PF3BF.js";import{f as A,k as O}from"./chunk-HHXHNTMN.js";import{a as R}from"./chunk-RY5OBAX3.js";import{$ as I,Bb as re,Db as B,Eb as o,Fb as f,Ga as a,Gb as p,L as ee,Lb as se,Mb as Q,Nb as oe,Ob as X,Pb as g,Qb as b,Rb as de,Ua as T,V as _,Vb as le,Xa as te,Yb as h,Zb as x,_ as M,a as z,b as K,ca as j,db as N,eb as P,f as Z,fb as E,ga as c,gb as k,hb as y,hc as ce,ib as m,jb as r,kb as s,lb as w,mb as C,nb as S,rb as F,tb as v,ub as ie,vb as u,wb as ne,xb as ae}from"./chunk-CDNDN3GD.js";function ge(n,e){if(n&1&&o(0),n&2){let t=u();p(" ",t.item().changeLabel," ")}}function ve(n,e){if(n&1&&o(0),n&2){let t=u();p(" ",t.item().change+" "+t.item().changeLabel," ")}}var H=class n{item=x.required();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-progress-card"]],inputs:{item:[1,"item"]},decls:12,vars:6,consts:[[1,"card","h-100","shadow-sm"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"mt-2"],[1,"card-title","ms-2","mt-1"]],template:function(t,i){t&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),o(4),S(),C(5,"h6",4),o(6),S()(),C(7,"h3"),o(8),S(),C(9,"small"),N(10,ge,1,1)(11,ve,1,1),S()()()),t&2&&(a(4),f(i.item().icon),a(2),f(i.item().title),a(2),p(" ",i.item().value," "),a(),re("color",i.item().color),a(),P(i.item().change=="0"?10:11))},encapsulation:2})};function Y(n){n||(n=_(j));let e=new Z(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe(ee(e))}var fe=(n,e)=>({button:n,"btn-outline":e});function be(n,e){if(n&1){let t=F();r(0,"button",10),v("click",function(){let l=M(t).$implicit,d=u();return I(d.setActiveTab(l.en))}),o(1),s()}if(n&2){let t=e.$implicit,i=u();B(oe(3,fe,i.activeTab()===t.en,i.activeTab()!==t.en)),a(),p(" ",i.currentLang()==="en"?t.en:t.ar," ")}}function _e(n,e){if(n&1&&(r(0,"option",8),o(1),s()),n&2){let t=e.$implicit,i=u();m("value",t.en),a(),p(" ",i.currentLang()==="en"?t.en:t.ar," ")}}function Te(n,e){if(n&1&&(r(0,"option",8),o(1),s()),n&2){let t=e.$implicit,i=u();m("value",t.en),a(),f(i.currentLang()==="en"?t.en:t.ar)}}function ke(n,e){if(n&1&&(r(0,"option",8),o(1),s()),n&2){let t=e.$implicit;m("value",t.id),a(),f(t.name)}}var $=class n{apiService=_(R);translate=_(q);destroyRef=_(j);currentLang=c("en");activeTab=c("All");assigne=c([]);selectedPriority=c("All");selectedStatus=c("All");selectedUser=c("All");selectType=h();selectPriorety=h();selectStatus=h();selectUser=h();tabs=c([{en:"All",ar:"\u0627\u0644\u0643\u0644"},{en:"To Do",ar:"\u0642\u064A\u062F \u0627\u0644\u062A\u0646\u0641\u064A\u0630"},{en:"In Progress",ar:"\u0642\u064A\u062F \u0627\u0644\u0639\u0645\u0644"},{en:"Done",ar:"\u0645\u0646\u062A\u0647\u064A"}]);priorities=c([{en:"All",ar:"\u0627\u0644\u0643\u0644"},{en:"High",ar:"\u0639\u0627\u0644\u064A"},{en:"Medium",ar:"\u0645\u062A\u0648\u0633\u0637"},{en:"Low",ar:"\u0645\u0646\u062E\u0641\u0636"}]);ngOnInit(){this.getUsers(),this.translate.pLang.pipe(Y(this.destroyRef)).subscribe(e=>{this.currentLang.set(e)})}getUsers(){this.apiService.get("assignee.json").pipe(Y(this.destroyRef)).subscribe(e=>{this.assigne.set(e)})}setActiveTab(e){this.activeTab.set(e),this.selectType.emit(e)}setPriority(e){let t=e.target.value;this.selectedPriority.set(t),this.selectPriorety.emit(t)}setStatus(e){let t=e.target.value;this.selectedStatus.set(t),this.selectStatus.emit(t)}setUser(e){let t=e.target.value;this.selectedUser.set(t),this.selectUser.emit(t)}setLang(e){this.translate.setLanguage(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-nav-tabs"]],outputs:{selectType:"selectType",selectPriorety:"selectPriorety",selectStatus:"selectStatus",selectUser:"selectUser"},decls:26,vars:10,consts:[[1,"container-fluid"],[1,"row","align-items-center","w-90","bg-white","rounded-2"],[1,"col-lg-12","col-xl-6","mt-2"],[1,"btn","me-2","mb-2",3,"class"],[1,"col-lg-12","col-xl-6"],[1,"row","p-2"],[1,"col-xxl-3","col-lg-4","col-md-6"],[1,"form-select","w-100","mt-2",3,"change","value"],[3,"value"],["type","button","routerLink","/add-task",1,"btn","button","w-100","mt-2"],[1,"btn","me-2","mb-2",3,"click"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),k(3,be,2,6,"button",3,E),s(),r(5,"div",4)(6,"div",5)(7,"div",6)(8,"select",7),v("change",function(d){return i.setPriority(d)}),k(9,_e,2,2,"option",8,E),s()(),r(11,"div",6)(12,"select",7),v("change",function(d){return i.setStatus(d)}),k(13,Te,2,2,"option",8,E),s()(),r(15,"div",6)(16,"select",7),v("change",function(d){return i.setUser(d)}),r(17,"option",8),o(18),g(19,"translate"),s(),k(20,ke,2,2,"option",8,E),s()(),r(22,"div",6)(23,"button",9),o(24),g(25,"translate"),s()()()()()()),t&2&&(a(3),y(i.tabs()),a(5),m("value",i.selectedPriority()),a(),y(i.priorities()),a(3),m("value",i.selectedStatus()),a(),y(i.tabs()),a(3),m("value",i.selectedUser()),a(),m("value","All"),a(),f(b(19,6,"all")),a(2),y(i.assigne()),a(4),p(" ",b(25,8,"newTask")," "))},dependencies:[A,O],styles:[".btn[_ngcontent-%COMP%]{min-width:90px}.w-90[_ngcontent-%COMP%]{width:99%;margin:auto}@media (max-width: 768px){.btn[_ngcontent-%COMP%]{flex:1 1 auto}}.btn-outline[_ngcontent-%COMP%]{border-color:var(--bg-primary)}"]})};var ye=["*"],V=class n{deletedTask=h();id=x.required();buttonName=x.required();action(e){this.deletedTask.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-modal"]],inputs:{id:[1,"id"],buttonName:[1,"buttonName"]},outputs:{deletedTask:"deletedTask"},ngContentSelectors:ye,decls:14,vars:7,consts:[["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(ne(),C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o(5),g(6,"translate"),S()(),ae(7),C(8,"div",5)(9,"button",6),o(10),g(11,"translate"),S(),C(12,"button",7),ie("click",function(){return i.action(i.id())}),o(13),S()()()()()),t&2&&(a(5),f(b(6,3,"deleteTask")),a(5),p(" ",b(11,5,"close")," "),a(3),p(" ",i.buttonName()," "))},dependencies:[O],encapsulation:2})};var he=(n,e,t)=>({overdue:n,complete:e,due:t}),xe=n=>({" border-start  border-danger  overdue-card":n}),Ce=(n,e,t)=>({"bg-danger":n,"bg-warning":e,"bg-success":t}),Se=n=>["/update-task",n];function we(n,e){n&1&&w(0,"i",14)}function De(n,e){n&1&&(r(0,"i"),o(1,"\u2705"),s())}function Me(n,e){n&1&&o(0," \u{1F4C5} ")}function Ie(n,e){if(n&1&&(r(0,"span",15),o(1),s()),n&2){let t=e.$implicit;a(),f(t)}}var J=class n{task=x.required();deletedTask=h();deleteTask(e){this.deletedTask.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-task-card"]],inputs:{task:[1,"task"]},outputs:{deletedTask:"deletedTask"},decls:50,vars:44,consts:[[1,"task-card","mb-3","rounded","border","border-1"],[1,"p-3","rounded",3,"ngClass"],[1,"d-flex","justify-content-between"],[1,"badge"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false"],[1,"pi","pi-ellipsis-v","cursor-pointer"],[1,"dropdown-menu"],["type","button",1,"dropdown-item",3,"routerLink"],[1,"pi","pi-pencil","px-2"],["type","button","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"dropdown-item"],[1,"pi","pi-trash","px-2"],[1,"mt-2"],[1,"text-muted","small"],[1,"pi","pi-exclamation-triangle"],[1,"text-muted","px-3"],[1,"d-flex","align-items-center"],[1,"profile-circle","mt-1","bg-primary","text-white","d-flex","align-items-center","justify-content-center"],[1,"fw-light","ps-2"],[3,"deletedTask","id","buttonName"],[1,"modal-body"],[1,"fw-semibold","text-danger"],[1,"mb-0"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o(4),s(),r(5,"div",4)(6,"div",5),w(7,"i",6),s(),r(8,"ul",7)(9,"li")(10,"button",8),w(11,"i",9),o(12),g(13,"translate"),s()(),r(14,"li")(15,"button",10),w(16,"i",11),o(17),g(18,"translate"),s()()()()(),r(19,"h6",12),o(20),s(),r(21,"p",13),o(22),s(),r(23,"div",13),N(24,we,1,0,"i",14)(25,De,2,0,"i")(26,Me,1,0),r(27,"span"),o(28),s()(),r(29,"div"),k(30,Ie,2,1,"span",15,E),s(),w(32,"hr"),r(33,"div",16)(34,"div",17),o(35),s(),r(36,"span",18),o(37),s()()()(),r(38,"app-modal",19),g(39,"translate"),v("deletedTask",function(){return i.deleteTask(i.task().id)}),r(40,"div",20)(41,"p",21),o(42),g(43,"translate"),s(),r(44,"p"),o(45),g(46,"translate"),s(),r(47,"p",22),o(48),g(49,"translate"),s()()()),t&2&&(B(X(32,he,i.task().isOverdue,i.task().completedAt,!i.task().isOverdue&&!i.task().completedAt)),a(),m("ngClass",Q(36,xe,i.task().isOverdue)),a(2),B(X(38,Ce,i.task().priority.toUpperCase()==="HIGH",i.task().priority.toUpperCase()==="MEDIUM",i.task().priority.toUpperCase()==="LOW")),a(),p(" ",i.task().priority," "),a(6),m("routerLink",Q(42,Se,i.task().id)),a(2),p("",b(13,20,"update")," "),a(5),p("",b(18,22,"delete")," "),a(3),f(i.task().title),a(2),f(i.task().description),a(2),P(i.task().status.includes("Overdue")?24:i.task().status.includes("Completed")?25:26),a(4),p(" ",i.task().status," "),a(2),y(i.task().tags),a(5),p(" ",i.task().assignee.avatar," "),a(2),p(" @",i.task().assignee.name),a(),m("id",i.task().id)("buttonName",b(39,24,"delete")),a(4),p("\u26A0\uFE0F ",b(43,26,"warning")),a(3),p(" ",b(46,28,"deleteWarningMessage")," "),a(3),f(b(49,30,"confirmContinue")))},dependencies:[ce,A,V,O],styles:[".task-card[_ngcontent-%COMP%]{transition:transform 1s ease-in-out}.task-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.overdue-card[_ngcontent-%COMP%]{background-color:#ffe5e5;border-width:10px!important}.overdue[_ngcontent-%COMP%]:hover{border-width:2px 2px 2px 0px!important;border-color:#dc3545!important}.complete[_ngcontent-%COMP%]:hover{border-width:2px!important;border-color:green!important}.due[_ngcontent-%COMP%]:hover{border-width:2px!important;border-color:var(--bg-primary)!important}.profile-circle[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%;font-size:.5rem}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active{color:#000;background-color:unset}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center}"]})};var G=class n{transform(e,t,i){if(!e)return[];if(!t)return e;let l=t.toLowerCase();return e.filter(d=>i?.length?i.some(D=>d[D]?.toString().toLowerCase().includes(l)):Object.values(d).some(D=>D?.toString().toLowerCase().includes(l)))}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=te({name:"search",type:n,pure:!0})};var Ee=()=>["title","description"],Ne=(n,e)=>e.value,Pe=(n,e)=>e.title;function Oe(n,e){if(n&1){let t=F();r(0,"div",7),v("dragstart",function(l){let d=M(t).$implicit,D=u(3);return I(D.onDragStart(l,d.id))}),r(1,"app-task-card",8),v("deletedTask",function(l){M(t);let d=u(3);return I(d.deleteTask(l))}),s()()}if(n&2){let t=e.$implicit;a(),m("task",t)}}function Le(n,e){if(n&1){let t=F();r(0,"div",2)(1,"div",3)(2,"div",4),o(3),s(),r(4,"div",5),v("dragover",function(l){M(t);let d=u(2);return I(d.onDragOver(l))})("drop",function(l){M(t);let d=u().$implicit,D=u();return I(D.onDrop(l,d.label.en))}),k(5,Oe,2,1,"div",6,Pe),g(7,"search"),s()()()}if(n&2){let t=u().$implicit,i=u();a(3),p(" ",t.label[i.currentLang()]," "),a(2),y(de(7,1,i.getTasksByColumn(t.label.en),i.searchText(),se(5,Ee)))}}function Fe(n,e){if(n&1&&N(0,Le,8,6,"div",2),n&2){let t=e.$implicit,i=u();P(t.label[i.currentLang()].toLowerCase()==i.type().toLowerCase()||i.type().toLowerCase()=="all"?0:-1)}}var W=class n{TasksService=_(pe);translate=_(q);searchText=c("");type=x("");deletedTask=h();tasks=x.required();draggedTaskId=c(null);statusChanged=h();columns=c([{value:"todo",label:{en:"TO DO",ar:"\u0642\u064A\u062F \u0627\u0644\u062A\u0646\u0641\u064A\u0630"}},{value:"progress",label:{en:"IN PROGRESS",ar:"\u0642\u064A\u062F \u0627\u0644\u0639\u0645\u0644"}},{value:"done",label:{en:"DONE",ar:"\u0645\u0646\u062A\u0647\u064A"}}]);currentLang=c("en");ngOnInit(){this.getSerchText(),this.translate.pLang.subscribe(e=>{this.currentLang.set(e)})}getTasksByColumn(e){return this.tasks().filter(t=>t.status.toLocaleLowerCase()===e.replace(/\s+/g,"").toLocaleLowerCase())}getSerchText(){this.TasksService.searchText.subscribe(e=>{this.searchText.set(e)})}deleteTask(e){this.deletedTask.emit(e)}onDragStart(e,t){this.draggedTaskId.set(t),e.dataTransfer?.setData("text/plain",t)}onDragOver(e){e.preventDefault()}onDrop(e,t){e.preventDefault();let i=this.draggedTaskId();i&&(this.updateTaskStatus(i,t),this.draggedTaskId.set(null))}updateTaskStatus(e,t){this.statusChanged.emit({taskId:e,status:t.replace(/\s+/g,"").toLowerCase()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-task-board"]],inputs:{type:[1,"type"],tasks:[1,"tasks"]},outputs:{deletedTask:"deletedTask",statusChanged:"statusChanged"},decls:4,vars:0,consts:[[1,"container-fluid","mt-4"],[1,"row"],[1,"col-xl-4"],[1,"card","shadow-sm","mb-3"],[1,"card-header"],[1,"card-body",3,"dragover","drop"],["draggable","true"],["draggable","true",3,"dragstart"],[3,"deletedTask","task"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1),k(2,Fe,1,1,null,null,Ne),s()()),t&2&&(a(2),y(i.columns()))},dependencies:[J,G],styles:[".card[_ngcontent-%COMP%]{height:60vh}.card-body[_ngcontent-%COMP%]{height:100%;overflow:auto}"]})};var Be=(n,e)=>e.id;function Ue(n,e){if(n&1&&(r(0,"div",2),w(1,"app-progress-card",5),s()),n&2){let t=e.$implicit;a(),m("item",t)}}var ue=class n{ApiService=_(R);ToasterService=_(me);taskType=c("All");prioretyType=c("All");statusType=c("All");userType=c("All");tasks=c([]);statistics=c([]);ngOnInit(){this.getStatictics(),this.getTasks()}getStatictics(){this.ApiService.get("statistics.json").subscribe(e=>{this.statistics.set(e.statistics)})}getTasks(){localStorage.getItem("tasks")?this.tasks.set(JSON.parse(localStorage.getItem("tasks"))):this.ApiService.get("tasks.json").subscribe(e=>{this.tasks.set(e.tasks),localStorage.setItem("tasks",JSON.stringify(this.tasks()))})}getType(e){this.taskType.set(e)}getPriorety(e){this.prioretyType.set(e)}getStatus(e){this.statusType.set(e)}getUser(e){this.userType.set(e)}matchesFilter(e,t){return!e||e==="All"?!0:t?.toLowerCase()===e.toLowerCase().replace(/\s+/g,"")}filteredTasks=le(()=>this.tasks().filter(e=>this.matchesFilter(this.prioretyType(),e.priority)&&this.matchesFilter(this.statusType(),e.status)&&this.matchesFilter(this.userType(),e.assignee.id)));deleteTask(e){this.tasks.update(t=>t.filter(i=>i.id!==e)),localStorage.setItem("tasks",JSON.stringify(this.tasks())),this.ToasterService.showSuccess("Delete Task","Success")}onStatusChanged(e){let t=this.tasks().map(i=>i.id===e.taskId?K(z({},i),{status:e.status}):i);this.tasks.set(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-home"]],decls:6,vars:2,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12","col-lg-3","mb-3"],[3,"selectType","selectPriorety","selectStatus","selectUser"],[3,"deletedTask","statusChanged","tasks","type"],[3,"item"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1),k(2,Ue,2,1,"div",2,Be),s()(),r(4,"app-nav-tabs",3),v("selectType",function(d){return i.getType(d)})("selectPriorety",function(d){return i.getPriorety(d)})("selectStatus",function(d){return i.getStatus(d)})("selectUser",function(d){return i.getUser(d)}),s(),r(5,"app-task-board",4),v("deletedTask",function(d){return i.deleteTask(d)})("statusChanged",function(d){return i.onStatusChanged(d)}),s()),t&2&&(a(2),y(i.statistics()),a(3),m("tasks",i.filteredTasks())("type",i.taskType()))},dependencies:[H,$,W],styles:[".logo-box[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:4px}.profile-circle[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;font-weight:700}"]})};export{ue as Home};
